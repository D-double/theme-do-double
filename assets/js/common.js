"use strict";function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var HoverLine=function(){function HoverLine(obj){var _this=this;_classCallCheck(this,HoverLine),this.link=document.querySelectorAll(obj.link),this.fontSize=parseInt(window.getComputedStyle(this.link[0]).fontSize),this.colorBase=obj.color,this.linkPadding=.5*this.fontSize;var styleLink={position:"relative",paddingLeft:"".concat(2*this.linkPadding,"px"),paddingRight:"".concat(2*this.linkPadding,"px")};this.addStyle(this.link,styleLink),this.link.forEach(function(elem){var text=elem.textContent.trim();elem.innerHTML="";var bracket=_this.createBracket(),circle=_this.createCircle(),light=_this.createLight();elem.append(light.bg),elem.append(bracket.left),elem.append(circle.left),elem.append(_this.createText(text)),elem.append(circle.right),elem.append(bracket.right),elem.addEventListener("mouseover",function(){_this.addStyle([bracket.left],bracket.hover.over),_this.addStyle([bracket.right],bracket.hover.over),_this.addStyle([circle.left],circle.hover.over.left),_this.addStyle([circle.right],circle.hover.over.right),_this.addStyle([light.bg],light.hover.over)}),elem.addEventListener("mouseout",function(){_this.addStyle([bracket.left],bracket.hover.out),_this.addStyle([bracket.right],bracket.hover.out),_this.addStyle([circle.left],circle.hover.out.left),_this.addStyle([circle.right],circle.hover.out.right),_this.addStyle([light.bg],light.hover.out)})})}return _createClass(HoverLine,[{key:"createElem",value:function createElem(elem){return document.createElement(elem)}},{key:"addStyle",value:function addStyle(elem,styles){for(var element,i=0;i<elem.length;i++)for(var key in element=elem[i],styles)element.style[key]=styles[key]}},{key:"createBracket",value:function createBracket(){var obj={left:this.createElem("span"),right:this.createElem("span")},radius=1.5*this.fontSize,styleRadius={position:"absolute",top:0,bottom:0,margin:"auto 0",display:"inline-block",width:"".concat(radius,"px"),height:"".concat(radius,"px"),borderRadius:"".concat(radius,"px"),transform:"scaleY(0)"},styleLeft={left:0,borderLeft:"3px solid ".concat(this.colorBase)},styleRight={right:0,borderRight:"3px solid ".concat(this.colorBase)};return this.addStyle([obj.left,obj.right],styleRadius),this.addStyle([obj.left],styleLeft),this.addStyle([obj.right],styleRight),obj.hover={over:{transform:"scaleY(1)",transition:"0.3s 0.3s"},out:{transform:"scaleY(0)",transition:"0.3s"}},obj}},{key:"createCircle",value:function createCircle(){var obj={left:this.createElem("span"),right:this.createElem("span")},styleRadius={width:"3px",height:"3px",borderRadius:"50%",background:this.colorBase,position:"absolute",top:"50%",opacity:0,transition:"0.3s"},styleLeft={left:"".concat(2*this.linkPadding,"px")},styleRight={right:"".concat(2*this.linkPadding,"px")};return this.addStyle([obj.left,obj.right],styleRadius),this.addStyle([obj.left],styleLeft),this.addStyle([obj.right],styleRight),obj.hover={over:{left:{transition:"0.3s",opacity:1,left:0},right:{transition:"0.3s",opacity:1,right:0}},out:{left:{transition:"0.3s 0.3s",opacity:0,left:"".concat(this.fontSize,"px")},right:{transition:"0.3s 0.3s",opacity:0,right:"".concat(this.fontSize,"px")}}},obj}},{key:"createLight",value:function createLight(){var obj={bg:this.createElem("span")},color=this.colorToRGB(),height=1.5*this.fontSize,styleLight={display:"inline-block",background:"linear-gradient(0deg, rgba(".concat(color,", 0.2), rgba(255,255,255,0.5), rgba(").concat(color,", 0.2))"),position:"absolute",left:0,top:0,bottom:0,margin:"auto 0",width:"100%",height:"".concat(height,"px"),borderRadius:"".concat(height,"px"),transform:"scaleY(0)",transition:"0.3s"};return this.addStyle([obj.bg],styleLight),obj.hover={over:{transform:"scaleY(1)",transition:"transform 0.3s 0.3s, background 0s 0s"},out:{transform:"scaleY(0)",transition:"0.3s"}},obj}},{key:"createText",value:function createText(text){var linkText=this.createElem("span");return this.addStyle([linkText],{position:"relative"}),linkText.append(text),linkText}},{key:"colorToRGB",value:function colorToRGB(){for(var color,hex=this.colorBase.substr(1,6),str="",i=2;7>i;i+=2)color=hex.substr(i-2,2),str+=parseInt(color,16)+",";return str=str.slice(0,-1),str}}]),HoverLine}();window.addEventListener("load",function(){new HoverLine({link:".menu__link",color:"#F07F00"})});var Burger=function(){function Burger(obj){var _this2=this;_classCallCheck(this,Burger),this.link=document.querySelectorAll(obj.link),this.parent=obj.parent,this.text=obj.text,this.active=obj.active,this.time=obj.time,this.windowWidth=window.innerWidth,this.saveHeight(),window.addEventListener("resize",function(){_this2.windowWidth!=window.innerWidth&&(_this2.windowWidth=window.innerWidth,_this2.saveHeight())}),this.link.forEach(function(element){var click=_this2.click.bind(_this2);element.addEventListener("click",function(e){e.preventDefault(),click(this)})})}return _createClass(Burger,[{key:"click",value:function click(elem){var _this3=this,linkParent=elem.closest(this.parent),linkText=linkParent.querySelector(this.text),prop=["height","paddingTop","paddingBottom","marginTop","marginBottom"],obj={};"block"==linkText.style.display?(linkText.classList.remove("active"),linkText.style.height=window.getComputedStyle(linkText).height,prop.forEach(function(val){return obj[val]=0}),this.changeStyle(linkText,obj,this.time),setTimeout(function(){linkText.style.display="none"},this.time),elem.classList.remove(this.active)):(prop.forEach(function(val){return obj[val]=linkText.more[val]}),linkText.style.display="block",setTimeout(function(){_this3.changeStyle(linkText,obj,_this3.time)},20),elem.classList.add(this.active))}},{key:"saveHeight",value:function saveHeight(){var _this4=this;this.link.forEach(function(element){element.classList.remove(_this4.active);var linkParent=element.closest(_this4.parent),linkText=linkParent.querySelector(_this4.text);_this4.baseHeight(linkText)})}},{key:"changeStyle",value:function changeStyle(elem,style,time){for(var key in elem.style.transitionDuration="".concat(time,"ms"),style)elem.style[key]=style[key];setTimeout(function(){elem.style.transitionDuration="0ms"},time)}},{key:"baseHeight",value:function baseHeight(el){var baseStyle=["height","paddingTop","paddingBottom","marginTop","marginBottom"];el.removeAttribute("style"),el.more={},baseStyle.forEach(function(val){return el.more[val]=window.getComputedStyle(el)[val]}),el.style.overflow="hidden",baseStyle.forEach(function(val){return el.style[val]=0}),el.style.display="none"}}]),Burger}();window.addEventListener("load",function(){new Burger({link:".more",active:"more__hover",text:".more__desc",parent:".more__parent",time:500})});var ClassActive=function ClassActive(obj){var _this5=this;_classCallCheck(this,ClassActive),"string"==typeof obj.el?this.el=document.querySelector(obj.el)||document.createElement("div"):obj.el instanceof HTMLElement&&(this.el=obj.el),"string"==typeof obj.menu?this.menu=document.querySelector(obj.menu)||document.createElement("div"):obj.menu instanceof HTMLElement&&(this.menu=obj.menu),this.el.addEventListener("click",function(e){e.preventDefault(),_this5.el.classList.contains("active")?(_this5.el.classList.remove("active"),_this5.el.blur()):(_this5.el.classList.add("active"),_this5.el.focus())}),document.addEventListener("click",function(e){_this5.el.classList.contains("active")&&e.target!=_this5.menu&&e.target!=_this5.el&&(_this5.el.classList.remove("active"),_this5.el.blur())})};window.addEventListener("load",function(){var burger=new ClassActive({el:".burger",menu:".menu"}),category=new ClassActive({el:".category-burger",menu:".category-menu"})});var PositionSticky=function(){function PositionSticky(obj){var _this6=this;_classCallCheck(this,PositionSticky),"string"==typeof obj.el?this.el=document.querySelector(obj.el)||document.createElement("div"):obj.el instanceof HTMLElement&&(this.el=obj.el),this.lineColor=obj.lineColor,this.top=obj.top,this.unit=obj.unit,this.elemHeight=0,this.nextEl=this.findNextEl(this.el),this.nextElTop=window.getComputedStyle(this.nextEl).marginTop,this.elColor=obj.elColor,this.scrollNumber(),this.elStyle(),this.line=this.addLine(),this.el.append(this.line.line),this.scroll(),window.addEventListener("scroll",function(){return _this6.scroll()}),window.addEventListener("resize",function(){_this6.scroll(),setTimeout(function(){_this6.scroll()},200)})}return _createClass(PositionSticky,[{key:"scroll",value:function scroll(){if(this.moveNextElem(),this.menuTop=this.scrollNumber(),this.el.style.top=0<this.menuTop-window.pageYOffset?this.menuTop-window.pageYOffset+"px":0,window.pageYOffset<this.el.clientHeight/2)this.line.line.style.width=0,this.line.lineOrange.style.width=0,this.el.style.background=this.elColor;else{this.el.style.background="rgba(".concat(this.colorToRGB(this.elColor),", 0.8)");var width=(window.pageYOffset+window.innerHeight)/(document.body.clientHeight/100);this.line.line.style.width="100%",this.line.lineOrange.style.width=width+"%"}}},{key:"scrollNumber",value:function scrollNumber(){return(this.elTop(),("number"!=typeof this.top&&isNaN(this.top)||this.top!=this.elTop())&&(this.top=this.elTop()),"px"==this.unit||null==this.unit)?0<=this.top?this.top:0:"%"==this.unit?this.calc(window.innerHeight,this.top)-this.el.clientHeight:void 0}},{key:"calc",value:function calc(height,top){return height/100*top}},{key:"moveNextElem",value:function moveNextElem(){this.elemHeight!=this.el.clientHeight&&(this.elemHeight=this.el.clientHeight,this.nextEl.style.marginTop=parseInt(this.nextElTop)+this.elemHeight+"px")}},{key:"elTop",value:function elTop(){return this.findPrevEl(this.el).getBoundingClientRect().bottom+window.pageYOffset}},{key:"elStyle",value:function elStyle(){this.addStyle([this.el],{zIndex:"99",position:"fixed",width:"100%",backdropFilter:"blur(10px)"})}},{key:"findPrevEl",value:function findPrevEl(el){return el.previousElementSibling instanceof HTMLElement?el.previousElementSibling:this.findPrevEl(el.parentElement)}},{key:"findNextEl",value:function findNextEl(el){return el.nextElementSibling instanceof HTMLElement?el.nextElementSibling:this.findNextEl(el.parentElement)}},{key:"addStyle",value:function addStyle(elem,styles){for(var element,i=0;i<elem.length;i++)for(var key in element=elem[i],styles)element.style[key]=styles[key]}},{key:"addLine",value:function addLine(){var lineOrange=document.createElement("div"),line=document.createElement("div"),elemStyle={position:"absolute",bottom:"0",left:"0",width:"0",height:"3px",background:this.lineColor[0],borderRadius:"3px",overflow:"hidden",transition:"500ms"},OrangeStyle={width:"0",height:"100%",background:this.lineColor[1],transition:"500ms"};return this.addStyle([line],elemStyle),this.addStyle([lineOrange],OrangeStyle),line.append(lineOrange),{line:line,lineOrange:lineOrange}}},{key:"colorToRGB",value:function colorToRGB(color){for(var colorItem,hex=color.substr(1,6),str="",i=0;6>i;i+=2)colorItem=hex.substr(i,2),str+=parseInt(colorItem,16)+",";return str=str.slice(0,-1),str}}]),PositionSticky}();window.addEventListener("load",function(){new PositionSticky({el:".nav",lineColor:["#4B73B4","#F07F00"],elColor:"#FEF2E5"})});var ActiveClass=function(){function ActiveClass(el){var _this7=this;_classCallCheck(this,ActiveClass),"string"==typeof el?this.el=document.querySelectorAll(el):obj.el instanceof HTMLElement&&(this.el=[el]),this.el.forEach(function(elem){return elem.addEventListener("click",function(){return _this7.click(elem)})})}return _createClass(ActiveClass,[{key:"click",value:function click(el){el.classList.contains("active")?el.classList.remove("active"):el.classList.add("active")}}]),ActiveClass}(),textLimit=new ActiveClass(".text-limit"),ScrollToAnchor=function(){function ScrollToAnchor(obj){var _this8=this;_classCallCheck(this,ScrollToAnchor),this.el="string"==typeof obj.el?document.querySelectorAll(obj.el):obj.el instanceof HTMLElement?[obj.el]:null,this.menu="string"==typeof obj.menu?document.querySelector(obj.menu)||document.createElement("div"):obj.menu instanceof HTMLElement?obj.menu:null;for(var _loop=function(i){_this8.el[i].addEventListener("click",function(e){1<_this8.el[i].getAttribute("href").split("#").length&&(e.preventDefault(),_this8.scroll(_this8.el[i]))})},i=0;i<this.el.length;i++)_loop(i)}return _createClass(ScrollToAnchor,[{key:"scroll",value:function scroll(link){var arr=link.getAttribute("href").split("#");try{var attr="#"+arr[1],elementPosition=document.querySelector(attr).offsetTop,offsetPosition=null==this.menu?elementPosition:elementPosition-this.menu.offsetHeight;window.scroll({top:offsetPosition,behavior:"smooth"})}catch(error){document.location.replace(link.getAttribute("href"))}}}]),ScrollToAnchor}();window.addEventListener("load",function(){new ScrollToAnchor({el:".menu__link",menu:".nav"})});var CardPreserve=function(){function CardPreserve(obj){var _this9=this;_classCallCheck(this,CardPreserve),this.el=document.querySelectorAll(obj.el),this.el.forEach(function(elem){elem.addEventListener("touchend",function(e){return _this9.click(elem,e)}),elem.addEventListener("touchmove",function(e){return _this9.move(elem,e)})})}return _createClass(CardPreserve,[{key:"click",value:function click(elem,event){if(event.preventDefault(),elem.classList.contains("active")){var url=elem.getAttribute("href");window.location=url}else this.el.forEach(function(elem){elem.style.transform="rotateY(0deg)",elem.classList.remove("active")}),elem.classList.add("active"),elem.style.transform="rotateY(180deg)"}},{key:"move",value:function move(){this.el.forEach(function(elem){elem.style.transform="rotateY(0deg)",elem.classList.remove("active")})}}]),CardPreserve}(),card=new CardPreserve({el:".card__content"}),anonse=document.querySelectorAll(".anonce__num").forEach(function(elem,index){return elem.textContent=10>index?"0"+(index+1):index+1}),prev=document.querySelector(".prev")||document.createElement("div"),next=document.querySelector(".next")||document.createElement("div"),text={next:next.textContent,prev:prev.textContent};window.addEventListener("resize",function(){576>window.innerWidth?(prev.textContent="<",next.textContent=">"):(prev.textContent=text.prev,next.textContent=text.next)});var moveImage=function(){function moveImage(obj){var _this10=this;_classCallCheck(this,moveImage),"string"==typeof obj.header&&(this.header=document.querySelector(obj.header)||document.createElement("div")),this.parent=document.querySelector(obj.el)||document.createElement("div"),0<this.parent.children.length&&(this.header.style.backgroundImage="none",this.parent.style.display="block",this.boxSize(),this.children=this.parent.children,this.changeSize(),this.addProp(),window.addEventListener("resize",function(){_this10.showElements(),_this10.boxSize(),_this10.addProp()}),this.move(),setInterval(function(){_this10.move()},100))}return _createClass(moveImage,[{key:"boxSize",value:function boxSize(){this.boxWidth=this.parent.clientWidth,this.boxHeight=this.parent.clientHeight}},{key:"random",value:function random(){var max=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,min=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(max+1-min)+min)}},{key:"addStyle",value:function addStyle(elem,styles){for(var element,i=0;i<elem.length;i++)for(var key in element=elem[i],styles)element.style[key]=styles[key]}},{key:"notManyElements",value:function notManyElements(){for(var elem,partArea=this.boxHeight*this.boxWidth/6,elementsArea=0,i=0;i<this.children.length;i++)elem=this.children[i],"none"!=elem.style.display&&(elementsArea+=elem.clientWidth*elem.clientHeight);return elementsArea<partArea}},{key:"changeSize",value:function changeSize(){var partArea=this.boxHeight*this.boxWidth/6,elementsArea=0,createClone=!1,i=0,elemCount=this.children.length-1;do{var elem=this.children[i];if(elem.style.height=this.random(.2*this.boxHeight,.15*this.boxHeight)+"px",elementsArea+=elem.clientWidth*elem.clientHeight,i<elemCount?i++:(i=0,createClone=!0),createClone){var clone=this.children[this.random(this.children.length-1)].cloneNode();this.parent.append(clone)}}while(elementsArea<partArea);for(var _elem,_i=0;_i<this.children.length;_i++)_elem=this.children[_i],_elem.baseProp={width:_elem.clientWidth,height:_elem.clientHeight,dx:this.random(4,1),dy:this.random(4,1)}}},{key:"addProp",value:function addProp(){var x=this.notManyElements();if(x)for(var elem,i=0;i<this.children.length;i++){elem=this.children[i];do{elem.baseProp.x=this.random(this.boxWidth-elem.clientWidth),elem.baseProp.y=this.random(this.boxHeight-elem.clientHeight);var change=this.collide(elem,i)}while(change.answer&&"none"!=elem.style.display);var elemStyle={position:"absolute",top:elem.baseProp.y+"px",left:elem.baseProp.x+"px"};this.addStyle([elem],elemStyle)}else this.hideElements(this.children.length-1)}},{key:"hideElements",value:function hideElements(i){var elem=this.children[i];"none"==elem.style.display?this.hideElements(--i):(elem.style.display="none",this.addProp())}},{key:"showElements",value:function showElements(){for(var elem,i=0;i<this.children.length;i++)elem=this.children[i],elem.style.display=""}},{key:"move",value:function move(){for(var i=0;i<this.children.length;i++){var elem=this.children[i],turn=this.collide(elem,i);if(turn.answer&&this.rotateMove(elem,turn),"none"!=elem.style.display){elem.baseProp.x+=elem.baseProp.dx,elem.baseProp.y+=elem.baseProp.dy;var elemStyle={top:elem.baseProp.y+"px",left:elem.baseProp.x+"px"};this.addStyle([elem],elemStyle)}}}},{key:"collide",value:function collide(elem,num){var prop=elem.baseProp,x=prop.x+prop.dx,y=prop.y+prop.dy,result={answer:!1,right:!1,bottom:!1};if(x+prop.width>this.boxWidth||0>x||0>y||y+prop.height>this.boxHeight)return(x+prop.width>this.boxWidth||0>x)&&(result.right=!0),(0>y||y+prop.height>this.boxHeight)&&(result.bottom=!0),result.answer=!0,result;for(var element,i=0;i<this.children.length;i++)if(element=this.children[i].baseProp,num!=i&&"object"==_typeof(element)&&"none"!=this.children[i].style.display&&x+prop.width>element.x&&x<element.x+element.width&&y+prop.height>element.y&&y<element.y+element.height)return prop.x+prop.width<element.x||prop.x>element.x+element.width?result.right=!0:result.bottom=!0,prop.y+prop.height<element.y||prop.y>element.y+element.height?result.bottom=!0:result.right=!0,result.answer=!0,result;return result}},{key:"rotateMove",value:function rotateMove(elem,turn){turn.right&&(elem.baseProp.dx*=-1),turn.bottom&&(elem.baseProp.dy*=-1)}}]),moveImage}();window.addEventListener("load",function(){new moveImage({el:".header__bg",header:".header"})});